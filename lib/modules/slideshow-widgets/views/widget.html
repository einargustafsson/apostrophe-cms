{% import 'apostrophe-templates:macros/image.html' as img %}
{% import 'apostrophe-templates:macros/svgs.html' as svgs %}

{% set w = data.widget %}
{% set images = apos.images.all(w.images) %}
<div class="o-container o-container--medium c-slideshow">
  <div class="c-slideshow__header">
    <span class="o-color-brand-primary o-headline c-slideshow__title">{{ w.title }}</span>
    <div class="c-slideshow__info">
      <div class="swiper-container c-slideshow__gallery-description-items" data-slideshow-descriptions>
        <div class="swiper-wrapper c-slideshow__description-wrapper">
          {% for image in images %}
            <div class="swiper-slide o-meta c-slideshow__description-item">
              {{ image._description or image.title }}
            </div>
          {% endfor %}
        </div>
      </div>
      <div class="o-meta c-slideshow__gallery-pager">
        {% if images.length > 1 %}
          <button class="c-slideshow__pager-button c-slideshow__pager-button--prev" data-slideshow-prev>{{ svgs.chevronLeft() }}</button>
          <span class="c-slideshow__pager-count" data-gallery-current>1</span> / <span class="c-slideshow__pager-count" data-gallery-total>{{ images.length }}</span>
          <button class="c-slideshow__pager-button c-slideshow__pager-button--next" data-slideshow-next>{{ svgs.chevronRight() }}</button>
        {% endif %}
      </div>
    </div>
  </div>
  <div class="swiper-container c-slideshow__container" data-slideshow>
    <div class="swiper-wrapper c-slideshow__wrapper">
      {% for image in images %}
        <div class="swiper-slide c-slideshow__slide">
          {{ img.render(image) }}
        </div>
      {% endfor %}
    </div>
  </div>
</div>
